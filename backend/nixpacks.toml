[phases.setup]
nixPkgs = ["python312", "postgresql"]

[phases.install]
cmds = ["pip install -r requirements.txt"]

[phases.build]
# Don't run migrations during build - database isn't available yet
cmds = ["python manage.py collectstatic --noinput"]

[start]
# Run migrations before starting the server
cmd = "python manage.py migrate --noinput && gunicorn listAPI.wsgi --log-file -"
